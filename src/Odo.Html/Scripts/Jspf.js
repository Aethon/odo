// Jspf.js
(function(){function executeScript(){
Type.registerNamespace('Jspf');Jspf.INotifyPropertyChanged=function(){};Jspf.INotifyPropertyChanged.registerInterface('Jspf.INotifyPropertyChanged');Jspf.ISortedSet=function(){};Jspf.ISortedSet.registerInterface('Jspf.ISortedSet');Jspf.IScrollableAxis=function(){};Jspf.IScrollableAxis.registerInterface('Jspf.IScrollableAxis');Jspf.IListItem=function(){};Jspf.IListItem.registerInterface('Jspf.IListItem');Jspf.IItemContainerGenerator=function(){};Jspf.IItemContainerGenerator.registerInterface('Jspf.IItemContainerGenerator');Jspf.Axis=function(){this.length=-1;this.minLength=-1;this.maxLength=-1;this.alignment=0;}
Jspf.Axis.prototype={nearMargin:0,farMargin:0,effectiveMaxLength:function(){return (this.maxLength<0)?Constants.maX_INT:this.maxLength;},effectiveMinLength:function(){return Math.max(this.minLength,0);},effectiveLength:function(){return Math.min(this.effectiveMaxLength(),Math.max(this.effectiveMinLength(),this.length));}}
Jspf.AxisArrangement=function(position,length){this.position=position;this.length=length;}
Jspf.AxisArrangement.prototype={position:0,length:0,clone:function(){return new Jspf.AxisArrangement(this.position,this.length);}}
Jspf.Control=function(){Jspf.Control.initializeBase(this);}
Jspf.Control.$10=function($p0){var $0=new Jspf.DomUiElement();$0.set_domContent($('<div style=\'background: red;></div>').get(0));return $0;}
Jspf.Control.prototype={get_template:function(){return this.$E;},set_template:function(value){this.$E=value;return value;},$E:null,get_visualTree:function(){return this.$F;},$F:null,getTemplateElement:function(elementName){return null;},applyTemplate:function(){this.releaseVisualTree();var $0=this.get_template()||Jspf.Control.$10;this.$F=$0.invoke(this);},releaseVisualTree:function(){this.$F=null;}}
Jspf.ItemsControl=function(){this.$11=Jspf.SortedSet.empty;Jspf.ItemsControl.initializeBase(this);}
Jspf.ItemsControl.$15=function($p0){var $0=new Jspf.DomUiElement();$0.set_domContent($('<div style=\'height: 12px\'>'+$p0+'</div>')[0]);return $0;}
Jspf.ItemsControl.prototype={get_source:function(){return this.$11;},set_source:function(value){if(value!==this.$11){this.$11=value||Jspf.SortedSet.empty;this.invalidateMeasure();this.onPropertyChanged('Source');}return value;},get_itemTemplate:function(){return this.$12;},set_itemTemplate:function(value){this.$12=value;this.invalidateMeasure();this.onPropertyChanged('ItemTemplate');return value;},$12:null,get_itemContainerTemplate:function(){return this.$13;},set_itemContainerTemplate:function(value){this.$13=value;this.invalidateMeasure();this.onPropertyChanged('ItemContainerTemplate');this.$13=value;return value;},$13:null,get_itemContainerGenerator:function(){return this._itemContainerGenerator;},_itemContainerGenerator:null,get_itemsPanel:function(){return this.$14;},set_itemsPanel:function(value){this.$14=value;return value;},$14:null}
Jspf.ItemsSelectorControl=function(){Jspf.ItemsSelectorControl.initializeBase(this);}
Jspf.ItemsSelectorControl.prototype={selection:null,$16:null,$17:null,selectAll:function(){this.selection=new Jspf.SortedSet(this.get_source().get_compare(),this.get_source().getAllItems(),true);},select:function(item,ctrlKey,shiftKey){if((!(shiftKey||ctrlKey))||(shiftKey&&this.$16==null)){this.selection=new Jspf.SortedSet(this.get_source().get_compare(),[item],true);this.$16=item;this.$17=item;}else if(shiftKey){var $0=this.get_source().indexOf(this.$16);var $1=this.get_source().indexOf(item);if($0>$1){var $2=$0;$0=$1;$1=$2;}this.selection=new Jspf.SortedSet(this.get_source().get_compare(),this.get_source().getItems($0,$1-$0+1),true);this.$17=item;}else{var $3=this.selection.getAllItems();var $4=Jspf.Util.binarySearchForInsert($3,item,this.selection.get_compare());($3).insert($4,item);this.selection=new Jspf.SortedSet(this.selection.get_compare(),$3,true);this.$16=item;this.$17=item;}},move:function(distance,ctrlKey,shiftKey){var $0;if(ctrlKey){$0=this.get_itemsPanel().getViewportPos();}else if(this.$17==null){$0=0;}else{$0=this.get_source().indexOf(this.$17);}var $1=Math.min(Math.max(0,$0+distance),this.get_source().get_count()-1);if($1>=0){if(!ctrlKey){this.select(this.get_source().getItem($1),false,shiftKey);this.get_itemsPanel().scrollIntoViewport($1);}else{this.get_itemsPanel().moveToPos($1);}}}}
Jspf.TableItem=function(item,index){this.item=item;this.index=index;}
Jspf.TableItem.prototype={item:null,index:0,isSelected:false}
Jspf.TableItemContainerGenerator=function(){this.$0=[];}
Jspf.TableItemContainerGenerator.prototype={get_allItems:function(){return this.$1;},set_allItems:function(value){this.$1=value;if(this.$3!=null){this.$3.invoke();}return value;},$1:null,count:function(){return (this.$1==null)?0:this.$1.get_count();},get_itemTemplate:function(){return this.$2;},set_itemTemplate:function(value){this.$2=value;return value;},$2:null,generateContainer:function(index){var $0=this.getContainerForIndex(index);if($0==null){var $1=this.$1.getItem(index);$0=this.$2.invoke(new Jspf.TableItem($1,index));this.$0.add(new Jspf.Jspf$0($1,$0));}return $0;},getContainerForIndex:function(index){var $0=this.$1.getItem(index);return this.getContainerForItem($0);},getContainerForItem:function(item){for(var $0=this.$0.length-1;$0>=0;$0--){var $1=this.$0[$0];if($1.$1===item){return $1.$0;}}return null;},getItemForContainer:function(container){for(var $0=this.$0.length-1;$0>=0;$0--){var $1=this.$0[$0];if($1.$0===container){return $1.$1;}}return null;},getIndexForContainer:function(container){var $0=this.getItemForContainer(container);if($0==null){return -1;}return this.$1.indexOf($0);},releaseContainer:function(container){for(var $0=this.$0.length-1;$0>=0;$0--){if((this.$0[$0]).$0===container){this.$0.removeAt($0);break;}}},add_changed:function(value){this.$3=ss.Delegate.combine(this.$3,value);},remove_changed:function(value){this.$3=ss.Delegate.remove(this.$3,value);},$3:null,getActiveItems:function(){return $.map(this.$0,ss.Delegate.create(this,function($p1_0,$p1_1){
return ($p1_0).$1;}));}}
Jspf.SortedSetItemContainerGenerator=function(){this.$0=[];}
Jspf.SortedSetItemContainerGenerator.prototype={get_allItems:function(){return this.$1;},set_allItems:function(value){this.$1=value;if(this.$3!=null){this.$3.invoke();}return value;},$1:null,count:function(){return (this.$1==null)?0:this.$1.get_count();},get_itemTemplate:function(){return this.$2;},set_itemTemplate:function(value){this.$2=value;return value;},$2:null,generateContainer:function(index){var $0=this.getContainerForIndex(index);if($0==null){var $1=this.$1.getItem(index);$0=this.$2.invoke($1);this.$0.add(new Jspf.Jspf$0($1,$0));}return $0;},getContainerForIndex:function(index){var $0=this.$1.getItem(index);return this.getContainerForItem($0);},getContainerForItem:function(item){for(var $0=this.$0.length-1;$0>=0;$0--){var $1=this.$0[$0];if($1.$1===item){return $1.$0;}}return null;},getItemForContainer:function(container){for(var $0=this.$0.length-1;$0>=0;$0--){var $1=this.$0[$0];if($1.$0===container){return $1.$1;}}return null;},getIndexForContainer:function(container){var $0=this.getItemForContainer(container);if($0==null){return -1;}return this.$1.indexOf($0);},releaseContainer:function(container){for(var $0=this.$0.length-1;$0>=0;$0--){if((this.$0[$0]).$0===container){this.$0.removeAt($0);break;}}},add_changed:function(value){this.$3=ss.Delegate.combine(this.$3,value);},remove_changed:function(value){this.$3=ss.Delegate.remove(this.$3,value);},$3:null,getActiveItems:function(){return $.map(this.$0,ss.Delegate.create(this,function($p1_0,$p1_1){
return ($p1_0).$1;}));}}
Jspf.ColumnTemplate=function(){}
Jspf.ColumnTemplate.prototype={cellTemplate:null,headerTemplate:null,width:0}
Constants=function(){}
Jspf.ScrollBar=function(){Jspf.ScrollBar.initializeBase(this);this.$29=ss.Delegate.create(this,this.$2A);this.$25=ss.Delegate.create(this,this.$26);}
Jspf.ScrollBar.prototype={get_scrollableAxis:function(){return this.$11;},set_scrollableAxis:function(value){this.$11=value;this.$11.add_changed(ss.Delegate.create(this,this.$20));return value;},$11:null,get_inputSource:function(){return this.$12[0];},set_inputSource:function(value){this.$12=$(value);this.$12.bind('mousewheel',ss.Delegate.create(this,this.$27));return value;},$12:null,$13:400,$14:40,$15:false,$16:false,$17:null,$18:null,$19:null,$1A:null,$1B:null,$1C:10,$1D:0,$1E:0,$1F:false,show:function(show){if(this.$17!=null){if(show){this.$17.css('visibility','visible');}else{this.$17.css('visibility','hidden');}}},arrange:function(x,y,hostElement){Jspf.ScrollBar.callBaseMethod(this, 'arrange',[x,y,hostElement]);if(this.$17==null){this.$17=$('<div class=\'ui-vertical-scrollbar\' style=\'position: absolute;\'></div>').appendTo(hostElement);this.$18=$('<div class=\'ui-scroll-up-button\'></div>').appendTo(this.$17).mousedown(ss.Delegate.create(this,this.$21));this.$1A=$('<div class=\'ui-scroll-vertical-track\'></div>').appendTo(this.$17).mousedown(ss.Delegate.create(this,this.$23));this.$1B=$('<div class=\'ui-scroll-vertical-thumb\' style=\'position: relative\'></div>').appendTo(this.$1A).mousedown(ss.Delegate.create(this,this.$24));this.$19=$('<div class=\'ui-scroll-down-button\'></div>').appendTo(this.$17).mousedown(ss.Delegate.create(this,this.$22));}var $0=(y.length>2*x.length)?x.length:Math.floor(y.length/2);var $1=y.length-2*$0;this.$1C=Math.min($0,$1);this.$17.css('width',x.length+'px').css('height',y.length+'px').css('top',y.position+'px').css('left',x.position+'px');this.$18.css('width',x.length+'px').css('height',$0+'px');this.$19.css('width',x.length+'px').css('height',$0+'px');this.$1A.css('width',x.length+'px').css('height',$1+'px');this.$1B.css('width',x.length+'px');this.$20();},$20:function(){if(!this.$15){var $0=this.$11.getExtentLength()-this.$11.getViewportLength();var $1=Math.max(Math.floor(this.$1A.height()/this.$11.getExtentLength()*this.$11.getViewportLength()),this.$1C);var $2=this.$1A.height()-$1;var $3=0;if($0>0&&$2>0){var $4=$2/$0;$3=Math.round(this.$11.getViewportPos()*$4);}else{}this.$1B.css('top',$3+'px').css('height',$1+'px');}},$21:function($p0){if(!this.$1F){this.$28(ss.Delegate.create(this.$11,this.$11.moveLineNear));}$p0.preventDefault();$p0.stopPropagation();},$22:function($p0){if(!this.$1F){this.$28(ss.Delegate.create(this.$11,this.$11.moveLineFar));}$p0.preventDefault();$p0.stopPropagation();},$23:function($p0){if(!this.$1F){var $0=$p0.pageY;var $1=this.$1B.offset().top;if($0<=$1){this.$28(ss.Delegate.create(this.$11,this.$11.movePageNear));}else{this.$28(ss.Delegate.create(this.$11,this.$11.movePageFar));}}$p0.preventDefault();$p0.stopPropagation();},$24:function($p0){if(!this.$1F){this.$15=true;var $0=$p0.pageY;this.$1E=$0-this.$1B.offset().top;$(document).mousemove(this.$25);$(document).mouseup(this.$29);}$p0.preventDefault();$p0.stopPropagation();},$25:null,$26:function($p0){if(!this.$1F){var $0=($p0.pageY-this.$1E);var $1=$0-this.$1A.offset().top;var $2=this.$1A.height();var $3=this.$11.getExtentLength();this.$11.moveToPos($1*$3/$2);$0=Math.max(0,Math.min($2-this.$1B.height(),$1));this.$1B.css('top',$0+'px');}},$27:function($p0){var $0=$p0;if($0.wheelDelta>=120){this.$11.movePageNear();}else if($0.wheelDelta<=-120){this.$11.movePageFar();}$p0.stopPropagation();$p0.preventDefault();},$28:function($p0){$p0.invoke();this.$1D=window.setInterval(ss.Delegate.create(this,function(){
if(this.$1D>0){window.clearInterval(this.$1D);this.$1D=window.setInterval(ss.Delegate.create(this,function(){
$p0.invoke();}),this.$14);$p0.invoke();}}),this.$13);$(document).mouseup(this.$29);},$29:null,$2A:function($p0){$(document).unbind('mouseup',this.$29);$(document).unbind('mousemove',this.$25);if(this.$15){this.$15=false;this.$20();}if(this.$1D>0){window.clearInterval(this.$1D);}}}
Jspf.SortedSet=function(compare,items,alreadySorted){if(compare==null){throw new Error('compare must be provided');}this.$1=compare;this.$2=items||[];if(!alreadySorted){this.$2.sort(this.$1);}}
Jspf.SortedSet.$0=function($p0,$p1){return 0;}
Jspf.SortedSet.prototype={get_count:function(){return this.$2.length;},get_compare:function(){return this.$1;},$1:null,$2:null,indexOf:function(item){return Jspf.Util.binarySearch(this.$2,item,this.$1);},getItem:function(index){return this.$2[index];},getItems:function(index,count){var $0=[];var $1=Math.min(index+count,this.$2.length);for(var $2=index;$2<$1;$2++){$0[$2-index]=this.$2[$2];}return $0;},getAllItems:function(){return this.$2.clone();}}
Jspf.Table=function(){Jspf.Table.initializeBase(this);this._itemContainerGenerator=new Jspf.TableItemContainerGenerator();}
Jspf.Table.prototype={get_columnTemplates:function(){return this.$18;},set_columnTemplates:function(value){this.$18=value;return value;},$18:null,$19:function(){var $0=this.get_itemContainerGenerator().getActiveItems();for(var $1=$0.length-1;$1>=0;$1--){var $2=$0[$1];var $3=this.get_itemContainerGenerator().getContainerForItem($2);if($3!=null){}}}}
Jspf.Jspf$0=function(item,container){this.$0=container;this.$1=item;}
Jspf.Jspf$0.prototype={$0:null,$1:null}
Jspf.OldListItemContainerGenerator=function(){this.$0=[];}
Jspf.OldListItemContainerGenerator.prototype={get_comparer:function(){return this.$1;},set_comparer:function(value){this.$1=value;return value;},$1:null,get_allItems:function(){return this.$2;},set_allItems:function(value){this.$2=value;if(this.$2!=null){(this.$2).subscribe(ss.Delegate.create(this,function(){
if(this.$4!=null){this.$4.invoke();}}));}return value;},$2:null,count:function(){return (this.$2==null)?0:this.$2.invoke().length;},get_itemTemplate:function(){return this.$3;},set_itemTemplate:function(value){this.$3=value;return value;},$3:null,generateContainer:function(index){var $0=this.getContainerForIndex(index);if($0==null){var $1=this.$2.invoke()[index];$0=this.$3.invoke($1);this.$0.add(new Jspf.Jspf$0($1,$0));}return $0;},getContainerForIndex:function(index){var $0=this.$2.invoke()[index];return this.getContainerForItem($0);},getContainerForItem:function(item){for(var $0=this.$0.length-1;$0>=0;$0--){var $1=this.$0[$0];if($1.$1===item){return $1.$0;}}return null;},getItemForContainer:function(container){for(var $0=this.$0.length-1;$0>=0;$0--){var $1=this.$0[$0];if($1.$0===container){return $1.$1;}}return null;},getIndexForContainer:function(container){var $0=this.getItemForContainer(container);if($0==null){return -1;}return (this.$2.invoke()).binarySearch($0,this.$1);},releaseContainer:function(container){for(var $0=this.$0.length-1;$0>=0;$0--){if((this.$0[$0]).$0===container){this.$0.removeAt($0);break;}}},add_changed:function(value){this.$4=ss.Delegate.combine(this.$4,value);},remove_changed:function(value){this.$4=ss.Delegate.remove(this.$4,value);},$4:null,getActiveItems:function(){return $.map(this.$0,ss.Delegate.create(this,function($p1_0,$p1_1){
return ($p1_0).$1;}));}}
Jspf.Util=function(){}
Jspf.Util.binarySearch=function(items,item,compare){var $0=0;var $1=items.length-1;var $2;var $3;while($0<=$1){$2=($0+$1)>>1;$3=compare.invoke(items[$2],item);if($3===0){return $2;}if($3<0){$0=$2+1;}else{$1=$2-1;}}return -1;}
Jspf.Util.binarySearchForInsert=function(items,item,compare){var $0=0;var $1=items.length-1;var $2=-1;var $3=0;while($0<=$1){$2=($0+$1)>>1;$3=compare.invoke(items[$2],item);if($3===0){return $2;}if($3<0){$0=$2+1;}else{$1=$2-1;}}return ($3<0)?$2+1:$2;}
Jspf.VirtualStackPanel=function(){this.$11=-1;this.$13=-1;this.$15=-1;this.$16=-1;this.$17=[];Jspf.VirtualStackPanel.initializeBase(this);}
Jspf.VirtualStackPanel.prototype={get_itemContainerGenerator:function(){return this.$E;},set_itemContainerGenerator:function(value){this.$E=value;if(this.$E!=null){this.$E.add_changed(ss.Delegate.create(this,function(){
this.$1C(true);}));}this.$1C(true);return value;},$E:null,get_fixedItemHeight:function(){return this.$F;},set_fixedItemHeight:function(value){this.$F=value;this.$1C(true);return value;},$F:15,$10:0,$12:null,$14:0,$18:null,$19:null,$1A:null,$1B:function(){return (this.$E!=null)?this.$E.count():0;},$1C:function($p0){var $0=this.$1B();var $1=false;if(this.$18!=null){if($p0||($0===0)){if(this.$E!=null){this.$10=this.$E.getIndexForContainer(this.$12);if(this.$10<0){this.$10=this.$11;}}for(var $2=Math.max(this.$15,0);$2<=this.$16;$2++){this.$1E($2);$1=true;}this.$11=-1;this.$12=null;this.$13=-1;this.$15=-1;this.$16=-1;}if($0>0){this.$19.height($0*this.$F);this.$10=Math.max(0,Math.min(this.$10,this.$1B()));if(this.$10!==this.$11){$1=true;}var $3=this.$10;var $4=this.$18.innerHeight();var $5=$4/this.$F;var $6=Math.floor($5);var $7=$3+$6-1;if($7>$0-1){var $B=$7-$0+1;$3=Math.max($3-$B,0);$7=$0-1;}var $8=$3-2;var $9=$7+2;this.$11=$3;this.$10=this.$11;this.$12=this.$E.getContainerForIndex(this.$11);this.$13=$7;if($5-$6>0){$7=Math.min($7+1,$0-1);}this.$1D((this.$11>0)||(this.$14<$0));var $A=this.$19.innerWidth();for(var $C=$3;$C<=$7;$C++){if(this.$17[$C]==null){$1=true;var $D=this.$E.generateContainer($C);this.$17[$C]=$D;$D.set_parent(this);$D.measure(new Jspf.Size($A,this.$F));var $E=this.arrangeAxis($D.get_yAxis(),$D.get_measuredSize().height,this.$F);$E.position+=$C*this.$F;$D.arrange(this.arrangeAxis($D.get_xAxis(),$D.get_measuredSize().width,this.$19.innerWidth()),$E,this.$19[0]);}}this.$19.css('top',(-$3*this.$F)+'px');for(var $F=Math.max(this.$15,0);$F<$8;$F++){this.$1E($F);}for(var $10=$9+1;$10<=this.$16;$10++){this.$1E($10);}this.$15=Math.min($3,Math.max($8,this.$15));this.$16=Math.max($7,Math.min($9,this.$16));}else{this.$1D(false);}}if($1&&this.$22!=null){this.$22.invoke();}},$1D:function($p0){this.$1A.show($p0);},$1E:function($p0){var $0=this.$17[$p0];if($0!=null){this.$17[$p0]=null;$0.set_parent(null);this.$E.releaseContainer($0);}},arrange:function(x,y,hostElement){Jspf.VirtualStackPanel.callBaseMethod(this, 'arrange',[x,y,hostElement]);var $0=18;if(this.$18==null){this.$18=$('<div style=\'overflow: hidden; -khtml-user-select: none; -moz-user-select: none; position: absolute\'></div>').appendTo(hostElement);this.$19=$('<div style=\'overflow: hidden; -khtml-user-select: none; -moz-user-select: none; position: absolute\'></div>').appendTo(this.$18);this.$1A=new Jspf.ScrollBar();this.$1A.set_scrollableAxis(this);this.$1A.set_inputSource(this.$18[0]);}this.$19.width(x.length).height(this.$1B()*this.$F);this.$18.width(x.length).height(y.length).css('top',y.position+'px').css('left',x.position+'px');this.$14=Math.floor(this.$18.innerHeight()/this.$F);var $1=x.clone();$1.position=$1.position+$1.length-$0;$1.length=$0;this.$1A.arrange($1,y,this.$18[0]);this.$1C(true);},$1F:false,$20:function(){this.$1F=true;window.setTimeout(ss.Delegate.create(this,this.$21),10);},$21:function(){if(this.$1F){this.$1F=false;this.$1C(false);}},getExtentLength:function(){return this.$1B();},getViewportPos:function(){return this.$11;},getViewportLength:function(){return this.$14;},add_changed:function(value){this.$22=ss.Delegate.combine(this.$22,value);},remove_changed:function(value){this.$22=ss.Delegate.remove(this.$22,value);},$22:null,moveLineNear:function(){this.$10=this.$10-1;this.$20();},moveLineFar:function(){this.$10=this.$10+1;this.$20();},movePageNear:function(){this.$10=this.$10-10;this.$20();},movePageFar:function(){this.$10=this.$10+10;this.$20();},moveToPos:function(position){this.$10=Math.floor(position);this.$20();},scrollIntoViewport:function(line){if(line<this.$11){this.$10=line;this.$20();}if(line>this.$13){this.$10=line-this.getViewportLength()+1;this.$20();}}}
Jspf.Jspf$1=function(selected,index){this.$0=selected;this.$1=index;}
Jspf.Jspf$1.prototype={$0:null,$1:0,get_isSelected:function(){return this.$0.contains(this.$2);},set_isSelected:function($p0){this.$0[this.$1]=$p0;return $p0;},get_isEnabled:function(){return true;},set_isEnabled:function($p0){return $p0;},get_data:function(){return this.$2;},set_data:function($p0){this.$2=$p0;return $p0;},$2:null}
Jspf.ListBox=function(){Jspf.ListBox.initializeBase(this);}
Jspf.ListBox.prototype={get_fixedItemHeight:function(){return this.$18;},set_fixedItemHeight:function(value){this.$18=value;return value;},$18:14,measure:function(size){},arrange:function(x,y,hostElement){Jspf.ListBox.callBaseMethod(this, 'arrange',[x,y,hostElement]);}}
Jspf.Decorator=function(){Jspf.Decorator.initializeBase(this);}
Jspf.Decorator.prototype={get_child:function(){return this.$E;},set_child:function(value){if(this.$E!=null){this.$E.set_parent(null);}this.$E=value;if(this.$E!=null){this.$E.set_parent(this);}this.invalidateMeasure();this.onPropertyChanged('Child');return value;},$E:null}
Jspf.DomUiElement=function(){Jspf.DomUiElement.initializeBase(this);}
Jspf.DomUiElement.prototype={$E:false,get_domContent:function(){return (ss.isNull(this.$F))?null:this.$F[0];},set_domContent:function(value){var $0=null;if(!ss.isNull(value)){$0=$(value);if($0===this.$F){return;}}if(this.$F!=null){this.$F.remove();this.$F=null;}this.$E=false;if($0!=null){this.$F=$0;}this.invalidateMeasure();this.onPropertyChanged('DomContent');return value;},$F:null,get_parent:function(){return Jspf.DomUiElement.callBaseMethod(this, 'get_parent');},set_parent:function(value){Jspf.DomUiElement.callBaseMethod(this, 'set_parent',[value]);if((value==null)&&(this.$F!=null)){this.$F.remove();this.$E=false;}return value;},arrange:function(x,y,hostElement){Jspf.DomUiElement.callBaseMethod(this, 'arrange',[x,y,hostElement]);if(this.$F!=null){if(!this.$E){this.$F.appendTo(hostElement);}this.$F.css('position','absolute').css('left',x.position+'px').css('top',y.position+'px').css('width',x.length+'px').css('height',y.length+'px');}}}
Jspf.Rect=function(){}
Jspf.Rect.prototype={top:0,left:0,width:0,height:0}
Jspf.Region=function(){Jspf.Region.initializeBase(this);}
Jspf.Region.getRegion=function(descendant){while(descendant!=null&&!(Type.canCast(descendant,Jspf.Region))){descendant=descendant.get_parent();}return descendant;}
Jspf.Region.prototype={host:null,layOut:function(){var $0;if(this.host==null||this.host.tagName!=='DIV'){throw new Error('Host must be a div element');}var $1=$(this.host);$1.css('padding','0px');var $2=$1.innerWidth();var $3=$1.innerHeight();if($2===0&&$3===0){$2=parseInt($1.css('width'));$3=parseInt($1.css('height'));}$0=new Jspf.Size($2,$3);if(this.get_child()!=null){this.get_child().measure($0);var $4=this.arrangeAxis(this.get_child().get_xAxis(),this.get_child().get_measuredSize().width,$0.width);var $5=this.arrangeAxis(this.get_child().get_yAxis(),this.get_child().get_measuredSize().height,$0.height);this.get_child().arrange($4,$5,this.host);}},measure:function(size){this.set_measuredSize(size.clone());},arrange:function(x,y,hostElement){}}
Jspf.Size=function(width,height){this.width=width;this.height=height;}
Jspf.Size.prototype={width:0,height:0,clone:function(){return new Jspf.Size(this.width,this.height);}}
Jspf.UiElement=function(){this.$4=new Jspf.Axis();this.$5=new Jspf.Axis();this.$6=new Jspf.Size(0,0);this.$7=new Jspf.AxisArrangement(0,0);this.$8=new Jspf.AxisArrangement(0,0);}
Jspf.UiElement.prototype={get_parent:function(){return this.$0;},set_parent:function(value){this.$0=value;return value;},$0:null,get_visualParent:function(){return this.$1;},set_visualParent:function(value){this.$1=value;return value;},$1:null,get_$2:function(){return this.$3;},$3:null,get_xAxis:function(){return this.$4;},set_xAxis:function(value){value=value||new Jspf.Axis();if(this.$4!==value){this.$4=value;this.invalidateMeasure();this.onPropertyChanged('XAxis');}return value;},get_yAxis:function(){return this.$5;},set_yAxis:function(value){value=value||new Jspf.Axis();if(this.$5!==value){this.$5=value;this.invalidateMeasure();this.onPropertyChanged('YAxis');}return value;},get_measuredSize:function(){return this.$6;},set_measuredSize:function(value){value=value||new Jspf.Size(0,0);if(this.$6!==value){this.$6=value;this.onPropertyChanged('MeasuredSize');}return value;},get_yArrangement:function(){return this.$7;},set_yArrangement:function(value){value=value||new Jspf.AxisArrangement(0,0);if(this.$7!==value){this.$7=value;this.onPropertyChanged('YArrangement');}return value;},get_xArrangement:function(){return this.$8;},set_xArrangement:function(value){value=value||new Jspf.AxisArrangement(0,0);if(this.$8!==value){this.$8=value;this.onPropertyChanged('XArrangement');}return value;},get_isMeasureValid:function(){return this.$9;},$9:false,invalidateMeasure:function(){if(!this.$9){}this.$9=false;},measure:function(size){var $0=this.get_xAxis().effectiveLength();var $1=this.get_yAxis().effectiveLength();this.set_measuredSize(new Jspf.Size($0,$1));},get_isArrangementValid:function(){return this.$A;},$A:false,invalidateArrangement:function(){if(!this.$A){}this.$A=false;},arrange:function(x,y,hostElement){this.set_yArrangement(y.clone());this.set_xArrangement(x.clone());},arrangeAxis:function(axis,measured,available){var $0=0;var $1=0;var $2=0;if(axis.alignment===0){$0=Math.min(available,axis.effectiveMaxLength());}else{$0=Math.min(available,measured);}$0=Math.max(axis.effectiveMinLength(),$0-axis.nearMargin-axis.farMargin);switch(axis.alignment){case -1:$1=axis.nearMargin;break;case 1:$1=available-axis.farMargin-$0;break;case 2:case 0:$2=axis.farMargin+axis.nearMargin+$0;if($2!==available){$1=Math.floor((available-$2)/2);}break;default:throw new Error('Unknown axis alignment specified');}return new Jspf.AxisArrangement($1,$0);},$B:function(){this.onRender();},onRender:function(){},$C:function(){this.onUnrender();},onUnrender:function(){},add_propertyChanged:function(value){this.$D=ss.Delegate.combine(this.$D,value);},remove_propertyChanged:function(value){this.$D=ss.Delegate.remove(this.$D,value);},$D:null,onPropertyChanged:function(name){if(!ss.isNull(this.$D)){this.$D.invoke(this,name);}}}
Jspf.Axis.registerClass('Jspf.Axis');Jspf.AxisArrangement.registerClass('Jspf.AxisArrangement');Jspf.UiElement.registerClass('Jspf.UiElement',null,Jspf.INotifyPropertyChanged);Jspf.Control.registerClass('Jspf.Control',Jspf.UiElement);Jspf.ItemsControl.registerClass('Jspf.ItemsControl',Jspf.Control);Jspf.ItemsSelectorControl.registerClass('Jspf.ItemsSelectorControl',Jspf.ItemsControl);Jspf.TableItem.registerClass('Jspf.TableItem');Jspf.TableItemContainerGenerator.registerClass('Jspf.TableItemContainerGenerator',null,Jspf.IItemContainerGenerator);Jspf.SortedSetItemContainerGenerator.registerClass('Jspf.SortedSetItemContainerGenerator',null,Jspf.IItemContainerGenerator);Jspf.ColumnTemplate.registerClass('Jspf.ColumnTemplate');Constants.registerClass('Constants');Jspf.ScrollBar.registerClass('Jspf.ScrollBar',Jspf.Control);Jspf.SortedSet.registerClass('Jspf.SortedSet',null,Jspf.ISortedSet);Jspf.Table.registerClass('Jspf.Table',Jspf.ItemsSelectorControl);Jspf.Jspf$0.registerClass('Jspf.Jspf$0');Jspf.OldListItemContainerGenerator.registerClass('Jspf.OldListItemContainerGenerator',null,Jspf.IItemContainerGenerator);Jspf.Util.registerClass('Jspf.Util');Jspf.VirtualStackPanel.registerClass('Jspf.VirtualStackPanel',Jspf.UiElement,Jspf.IScrollableAxis);Jspf.Jspf$1.registerClass('Jspf.Jspf$1',null,Jspf.IListItem);Jspf.ListBox.registerClass('Jspf.ListBox',Jspf.ItemsSelectorControl);Jspf.Decorator.registerClass('Jspf.Decorator',Jspf.UiElement);Jspf.DomUiElement.registerClass('Jspf.DomUiElement',Jspf.UiElement);Jspf.Rect.registerClass('Jspf.Rect');Jspf.Region.registerClass('Jspf.Region',Jspf.Decorator);Jspf.Size.registerClass('Jspf.Size');Constants.maX_INT=Math.pow(2,31)-1;Jspf.SortedSet.empty=new Jspf.SortedSet(Jspf.SortedSet.$0,null,true);}
ss.loader.registerScript('Jspf',[],executeScript);})();// This script was generated using Script# v0.6.3.0
